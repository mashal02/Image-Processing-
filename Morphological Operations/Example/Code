# organizing imports
import cv2
import numpy as np

# path to input image is specified and
# image is loaded with imread command
image1 = cv2.imread('pic.jpg')


# to convert the image in grayscale
img = cv2.cvtColor(image1, cv2.COLOR_BGR2GRAY)


# all pixels value above 31 will
# be set to 255
ret, thresh1 = cv2.threshold(img, 31, 255, cv2.THRESH_BINARY)


# define the kernel
kernel = np.ones((8, 8), np.uint8)
 
# opening the image
closing = cv2.morphologyEx(thresh1, cv2.MORPH_OPEN, kernel, iterations=1)

#eroding
kernel = np.ones((3, 3), np.uint8)
erosion = cv2.erode(closing, kernel,
                   iterations=1)

#eroding again but with different kernel
kernel = np.ones((2, 2), np.uint8)
erosion2 = cv2.erode(erosion, kernel,iterations=2)

#opening again with different kernel
kernel = np.ones((5, 5), np.uint8)
closing = cv2.morphologyEx(erosion2, cv2.MORPH_OPEN, kernel, iterations=1)

cv2.imwrite("neww.jpg",closing) 


# De-allocate any associated memory usage
if cv2.waitKey(0) & 0xff == 27:
	cv2.destroyAllWindows()
